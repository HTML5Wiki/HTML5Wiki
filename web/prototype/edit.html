<!DOCTYPE html>
<html lang="de">
<head>
	<meta charset="utf-8" />
	<title>Aritkel bearbeiten | HTML5Wiki</title>
	<meta name="description" content="">
 	<meta name="author" content="HTML5Wiki">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon" />
	<link rel="icon" href="../images/favicon.ico" type="image/ico" />
	<link rel="stylesheet" href="../css/html5wiki.css" />
	<link rel="stylesheet" href="../css/editor.css" />
	<script type="text/javascript" src="js/jquery-nonproductive.js"></script>
	<script type="text/javascript" src="../js/jquery.markitup.js"></script>
	<script type="text/javascript" src="../js/markitup/html5wiki-set.js"></script>
</head> 
<body>
	<header class="header-overall">
		<a href="#" class="logo"><span class="hide">HTML5Wiki</span></a>
		<nav class="main-menu">
			<ol class="menu-items clearfix">
				<li class="item home"><a href="#" class="tab">Startseite</a></li>
				<li class="item updates"><a href="#" class="tab">Neuste Ã„nderungen</a></li>
				<li class="item article active"><a href="#" class="tab">Der erste grosse Artikel im Prototyp</a></li>
				<li class="item search"><input placeholder="Suchen" class="searchterm" accesskey="s" /></li>
			</ol>
		</nav>
	</header>

	<article class="content article">
		<header class="title clearfix">
			<h1 class="heading">Der erste grosse Artikel im Prototyp</h1>
			<ol class="capsulebar">
				<li class="item first read"><a href="#" class="capsule"><span class="caption">Lesen</span></a></li>
				<li class="item edit active"><a href="#" class="capsule"><span class="caption">Bearbeiten</span></a></li>
				<li class="item last history"><a href="#" class="capsule"><span class="caption">&Auml;nderungsgeschichte</span></a></li>
			</ol>
		</header>
		
		<textarea id="contentEditor"></textarea>
		
	</article>

	<script type="text/javascript" >
		$(document).ready(function() {
			$('#contentEditor').markItUp(html5WikiMarkItUpSettings);
			$('h1.heading').bind('mouseup', handleEditArticleTitle);
		});
		
		function handleEditArticleTitle() {
			var heading = $(this);
			var title = heading.text();
			
			var titleEditor = $('<input value="'+title+'" class="editor" />');
			
			var cancelButton = $('<a href="#" class="button">Verwerfen</a>');
			cancelButton.bind('mouseup',{title:title}, function(event) {
				var heading = $('<h1 class="heading">'+event.data.title+'</h1>');
				$(heading).bind('mouseup', handleEditArticleTitle);
				titleEditor.replaceWith(heading);
				$(this).remove();
				return false;
			});
			
			heading.replaceWith(titleEditor);
			titleEditor.after(cancelButton);
			
			return false;			
		}
	</script>

	
</body>
</html>